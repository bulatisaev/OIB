**Отчёт по лабораторной работе №6** 

**Дисциплина: Основы информационной безопасности** 

Исаев Булат Абубакарович НПИбд-01-22 

Содержание 

[1  Цель работы ........................................................................................................................................................ 1 ](#_page0_x82.00_y293.00)[2  Выполнение лабораторной работы........................................................................................................ 1 ](#_page0_x82.00_y387.00)[3  Выводы .................................................................................................................................................................. 9 ](#_page8_x82.00_y288.00)Список литературы ...................................................................... **Ошибка! Закладка не определена.** 

<a name="_page0_x82.00_y293.00"></a>**1  Цель работы** 

Развить навыки администрирования ОС Linux. Получить первое практическое знакомство с технологией SELinux. Проверить работу SELinx на практике совместно с веб-сервером Apache. 

<a name="_page0_x82.00_y387.00"></a>**2  Выполнение лабораторной работы** 

1. Убеждаюсь, что SELinux работает в режиме enforcing политики targeted с помощью команд *getenforce* и *sestatus*. Запускаю веб-сервер командой *service httpd start* и проверяю его статус командой *service httpd status* (рис. 1) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.001.jpeg)

*Рис. 1: Запуск и проверка веб-сервера* 

2. Определяю контекст безопасности веб-сервера с помощью команды *ps auxZ | grep httpd* (рис. 2) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.002.jpeg)

*Рис. 2: Контекст безопасности веб-сервера* 

3. Просматриваю текущее состояние переключателей SELinux для Apache с помощью команды *sestatus -b | grep httpd* (рис. 3) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.003.jpeg)

*Рис. 3: Состояние переключателей SELinux* 

4. Смотрю статистику по политике с помощью команды *seinfo* (рис. 4) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.004.jpeg)

*Рис. 4: Статистика по политике* 

5. Определяю тип файлов и поддиректорий, находящихся в директории /var/www, с помощью команды *ls -lZ /var/www*. Аналогично для директории /var/www/html (рис. 5) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.005.png)

*Рис. 5: Определение типа файлов и папок* 

6. Создаю файл /var/www/html/test.html и записываю следующий html-код (рис. 6) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.006.png)

*Рис. 6: test.html* 

7. Проверяю контекст созданного файла командой *ps auxZ | grep test.html* (рис. 7) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.007.png)

*Рис. 7: Контекст файла* 

8. Проверяю в браузере, что файл успешно отображается (рис. 8) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.008.png)

*Рис. 8: Проверка в браузере* 

9. Изучаю справку man по командам httpd и selinux, также проверяю контекст файла командой *ls -Z /var/www/html/test.html* (рис. 9) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.009.png)

*Рис. 9: Изучение man, проверка контекста* 

10. Изменяю контекст файла test.html командой *chcon -t samba\_share\_t /var/www/html/test.html*. После, проверяю его и открываю веб-страницу - нет доступа (рис. 10) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.010.jpeg)

*Рис. 10: Изменение контекста* 

11. Просматриваю системный лог-файл командой *tail /var/log/messages* (рис. 11) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.011.png)

*Рис. 11: Системный лог-файл* 

12. В файле /etc/httpd/conf/httpd.conf меняю порт на 81 (рис. 12) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.012.png)

*Рис. 12: Смена порта* 

13. Перезагружаю веб-сервер - получен сбой (рис. 13) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.013.png)

*Рис. 13: Сбой веб-сервера* 

14. Анализирую лог-файлы командами *tail -nl /var/log/messages* и *cat /var/log/http/error\_log* (рис. 14) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.014.png)

*Рис. 14: Проверка лог-файлов* 

15. Также проверяю лог-файл */var/log/http/access\_log* (рис. 15) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.015.png)

*Рис. 15: Проверка лог-файлов* 

16. Также проверяю лог-файл */var/log/audit/audit.log*. (рис. 16) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.016.png)

*Рис. 16: Проверка лог-файлов* 

17. Выполняю команду *semanage port -a -t http\_port\_t -р tcp 81* и проверяю список портов командой *semanage port -l | grep http\_port\_t* - порт 81 появился в списке (рис. 17) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.017.png)

*Рис. 17: Добавление порта 81 в список* 

18. Возвращаю контекст httpd\_sys\_cоntent\_\_t к файлу /var/www/html/ test.html, введя *chcon -t httpd\_sys\_content\_t /var/www/html/test.html*. Перезапускаю веб-сервер командой *sudo service httpd restart* (рис. 18) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.018.png)

*Рис. 18: Возвращение контекста и перезапуск веб-сервера* 

19. Возвращаю порт 80 в конфигурационном файле (рис. 19) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.019.png)

*Рис. 19: Смена порта на 80* 

20. Удаляю привязку http\_port\_t к 81 порту командой *semanage port -d -t http\_port\_t -p tcp 81* и удаляю файл test.html командой *rm /var/www/html/test.html* (рис. 20) 

![](Aspose.Words.765d3000-fd4b-462f-bcc0-4048a2fe0606.020.png)

*Рис. 20: Удаление привязки к 81 порту и удаление html-файла* 

<a name="_page8_x82.00_y288.00"></a>**3.  Выводы** 

Я развил навыки администрирования ОС Linux, познакомился с технологией SELinux, поработал с веб-сервером Apache 
